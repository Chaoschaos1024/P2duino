CON  BUTTON_PINS   = $FFVAR    long  ResultsPUB Start(Rate)  Results := Rate  cognew(@Entry, @Results)PUB State  return  ResultsDAT                        orgEntry                                                                                                                                                  rdlong    WaitTime, par              mov       outa, #BUTTON_PINS              ' set TestPins high, but keep as inputs              mov       Wait, cnt              add       Wait, WaitTimeLoop              or        dira, #BUTTON_PINS              ' set TestPins as outputs (high)              andn      dira, #BUTTON_PINS              ' set TestPins as inputs (floating)              and       Reading, #BUTTON_PINS              waitcnt   Wait, WaitTime              xor       Reading, ina              and       Reading, #BUTTON_PINS              wrlong    Reading, par              or        Reading, #BUTTON_PINS              jmp       #LoopReading       res       1WaitTime      res       1Wait          res       1